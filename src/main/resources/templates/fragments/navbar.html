<nav th:fragment="navbar" class="main-header navbar navbar-expand navbar-dark">
  <ul class="navbar-nav">
    <li class="nav-item">
      <a class="nav-link" data-widget="pushmenu" th:href="@{/}" role="button"
        ><i class="fas fa-bars"></i
      ></a>
    </li>
  </ul>

  <!-- Right navbar links -->
  <ul class="navbar-nav ml-auto">
    <!-- Notifications Dropdown Menu -->
    <li class="nav-item dropdown">
      <a class="nav-link" data-toggle="dropdown" th:href="@{/}">
        <i class="far fa-bell"></i>
        <span class="badge badge-warning navbar-badge">15</span>
      </a>
      <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
        <span class="dropdown-item dropdown-header">15 Notifications</span>
        <div class="dropdown-divider"></div>
        <a th:href="@{/}" class="dropdown-item">
          <i class="fas fa-envelope mr-2"></i> 4 new messages
          <span class="float-right text-muted text-sm">3 mins</span>
        </a>
        <div class="dropdown-divider"></div>
        <a th:href="@{/}" class="dropdown-item">
          <i class="fas fa-users mr-2"></i> 8 friend requests
          <span class="float-right text-muted text-sm">12 hours</span>
        </a>
        <div class="dropdown-divider"></div>
        <a th:href="@{/}" class="dropdown-item">
          <i class="fas fa-file mr-2"></i> 3 new reports
          <span class="float-right text-muted text-sm">2 days</span>
        </a>
        <div class="dropdown-divider"></div>
        <a th:href="@{/}" class="dropdown-item dropdown-footer"
          >See All Notifications</a
        >
      </div>
    </li>
    <!-- User Dropdown Menu -->
    <!-- <li class="nav-item dropdown user-menu">
      <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
        <img th:src="@{/dist/img/user2-160x160.jpg}" class="user-image rounded-circle shadow" alt="User Image" />
        <span th:text="${user != null ? user.fullName : 'Guest'}">Nama Lengkap</span>
      </a>
      <ul class="dropdown-menu dropdown-menu-lg dropdown-menu-end">
        <li class="user-header text-bg-primary">
          <img th:src="@{/dist/img/user2-160x160.jpg}" class="user-image rounded-circle shadow" alt="User Image" />

          <p>
            <span class="mb-0" th:text="${user != null ? user.fullName : 'Guest'}">Nama Lengkap</span>
            -
            <span class="mb-0" th:text="${user != null ? user.role : 'No Role'}">Jabatan</span>
          </p>
        </li>
        <li class="user-body">
          <div class="row">
            <div class="col-4 text-center">
              <a href="#">Followers</a>
            </div>
            <div class="col-4 text-center">
              <a href="#">Sales</a>
            </div>
            <div class="col-4 text-center">
              <a href="#">Friends</a>
            </div>
          </div>
        </li>
        <li class="user-footer">
          <a href="#" class="btn btn-default btn-flat">Profile</a>
          <a href="#" class="btn btn-default btn-flat float-end">Sign out</a>
        </li>
      </ul>
    </li> -->

    <!-- <li class="nav-item dropdown user-menu">
      <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
        <img th:src="@{/dist/img/user2-160x160.jpg}" class="user-image rounded-circle shadow" alt="User Image" />
        <span th:text="${user != null ? user.fullName : 'Guest'}">Nama Lengkap</span>
      </a>
      <ul class="dropdown-menu dropdown-menu-end">
        <li><a class="dropdown-item" href="#">Followers</a></li>
        <li><a class="dropdown-item" href="#">Sales</a></li>
        <li><a class="dropdown-item" href="#">Friends</a></li>
        <li>
          <hr class="dropdown-divider">
        </li>
        <li><a class="dropdown-item" href="#">Profile</a></li>
        <li><a class="dropdown-item" href="#">Sign out</a></li>
      </ul>
    </li> -->

    <li class="nav-item user-menu">
      <a href="#" class="nav-link" id="userMenuTrigger">
        <img
          th:src="${user.avatar != null && !user.avatar.isEmpty() ? user.avatar : '/dist/img/avatar5.png'}"
          class="user-image img-circle elevation-2"
          alt="User Image"
          style="width: 30px; height: 30px; object-fit: cover"
        />
        <span
          class="d-none d-md-inline"
          th:text="${loggedInUser != null ? loggedInUser.fullName : 'Guest'}"
        >
          Guest
        </span>
      </a>

      <ul class="custom-user-dropdown" id="userDropdownMenu">
        <li class="nav-item">
          <a
            th:if="${currentRole == 'Admin'}"
            th:href="@{/admin/profile}"
            class="dropdown-item"
          >
            <span class="material-symbols-outlined">account_circle</span> Profil
            Saya
          </a>

          <a
            th:if="${currentRole == 'Asesi'}"
            th:href="@{/asesi/profile}"
            class="dropdown-item"
          >
            <span class="material-symbols-outlined">account_circle</span> Profil
            Saya
          </a>

          <a
            th:if="${currentRole == 'Asesor'}"
            th:href="@{/asesor/profile}"
            class="dropdown-item"
          >
            <span class="material-symbols-outlined">account_circle</span> Profil
            Saya
          </a>
        </li>
        <!-- <li>
          <a href="@{/profile}" class="dropdown-item">
            <span class="material-symbols-outlined">account_circle</span>
            Profile
          </a>
        </li> -->
        <!-- <li>
          <a href="#" class="dropdown-item">
            <span class="material-symbols-outlined">settings</span> Settings
          </a>
        </li>
        <li>
          <a href="#" class="dropdown-item">
            <span class="material-symbols-outlined">help</span> Help
          </a>
        </li> -->
        <li>
          <hr class="dropdown-divider" />
        </li>
        <li>
          <a th:href="@{/logout}" class="dropdown-item">
            <span class="material-symbols-outlined">logout</span> Logout
          </a>
        </li>
      </ul>
    </li>
  </ul>
</nav>
