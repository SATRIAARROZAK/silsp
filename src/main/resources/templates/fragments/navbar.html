<nav th:fragment="navbar" class="main-header navbar navbar-expand navbar-dark">
  <ul class="navbar-nav">
    <li class="nav-item">
      <a class="nav-link" data-widget="pushmenu" th:href="@{/}" role="button"
        ><i class="fas fa-bars"></i
      ></a>
    </li>
  </ul>

  <!-- Right navbar links -->
  <ul class="navbar-nav ml-auto">
    <!-- Notifications Dropdown Menu -->
    <li class="nav-item dropdown" id="notifDropdown">
      <a class="nav-link" data-toggle="dropdown" href="#" aria-expanded="false">
        <i class="far fa-bell"></i>
        <span
          class="badge badge-warning navbar-badge"
          id="notifCount"
          style="display: none"
          >0</span
        >
      </a>

      <div
        class="dropdown-menu dropdown-menu-lg dropdown-menu-right"
        style="max-height: 400px; overflow-y: auto"
      >
        <span class="dropdown-item dropdown-header" id="notifHeader"
          >0 Notifikasi</span
        >

        <div class="dropdown-divider"></div>

        <div id="notifList"></div>

        <div class="dropdown-divider"></div>

        <a
          href="javascript:void(0)"
          onclick="markAllAsRead()"
          class="dropdown-footer-custom d-block text-muted small"
        >
          <i class="fas fa-check-double mr-1"></i> Tandai semua dibaca
        </a>
      </div>
    </li>

    <li class="nav-item user-menu">
      <a href="#" class="nav-link" id="userMenuTrigger">
        <img
          th:src="${user.avatar != null && !user.avatar.isEmpty() ? user.avatar : '/dist/img/avatar5.png'}"
          class="user-image img-circle elevation-2"
          alt="User Image"
          style="width: 30px; height: 30px; object-fit: cover"
        />
        <span
          class="d-none d-md-inline"
          th:text="${loggedInUser != null ? loggedInUser.fullName : 'Guest'}"
        >
          Guest
        </span>
      </a>

      <ul class="custom-user-dropdown" id="userDropdownMenu">
        <li class="nav-item">
          <a
            th:if="${currentRole == 'Admin'}"
            th:href="@{/admin/profile}"
            class="dropdown-item"
          >
            <span class="material-symbols-outlined">account_circle</span> Profil
            Saya
          </a>

          <a
            th:if="${currentRole == 'Asesi'}"
            th:href="@{/asesi/profile}"
            class="dropdown-item"
          >
            <span class="material-symbols-outlined">account_circle</span> Profil
            Saya
          </a>

          <a
            th:if="${currentRole == 'Asesor'}"
            th:href="@{/asesor/profile}"
            class="dropdown-item"
          >
            <span class="material-symbols-outlined">account_circle</span> Profil
            Saya
          </a>
        </li>

        <li>
          <hr class="dropdown-divider" />
        </li>
        <li>
          <a th:href="@{/logout}" class="dropdown-item">
            <span class="material-symbols-outlined text-danger">logout</span> Logout
            <!-- <span class="nav-icon fas fa-sign-out-alt">Keluar</span> -->
          </a>
        </li>
      </ul>
    </li>
  </ul>
</nav>
